Building a dynamic content generator with advanced DOM manipulation